<assignment>
    <steps>
        <step class="" name="Getting Started" data-slide="welcome">
            <h1>Intro</h1>
            <p>Velkommen, i det følgende forløb kommer I til at arbejde med programmet DreamTeam</p>
            <p>Scroll ned på mobilen og tryk på "Next" for at fortsætte.</p>
        </step>
        <step data-slide="jsIntro">
            <h1>HTML, CSS og Javascript</h1>
            <p>Se videoen på computeren for at få en kort introduktion til HTML, CSS og Javascript.</p>
            <p>Tryk på "Next" når i har set videoen.</p>
        </step>
        <step data-slide="version0">
            <h1>The Dream-Team version 0</h1>
            <p>På computeren kan du nu se Dream-Team programmet, prøv at bruge programmet, og giv så en kort beskrivelse
                af programmets formål og funktionalitet (hvad kan det?). Dette kaldes en specifikation.</p>
            <p>Brug "Send Note..." feltet herunder til at skrive.</p>
        </step>
        <step data-slide="version0" data-slide-mode="fullCode">
            <h1>The Dream-Team version 0</h1>
            <p>Her kan du se hele koden til programmet Dream-Team version 0, den er opdelt i HTML, CSS og JavaScript.</p>
            <p>Prøv at analyser forskellen på HTML, CSS og JavaScript, hvilken del gør hvad?</p>
        </step>
        <step data-slide="version0" data-slide-mode="htmlCode">
            <h1>The Dream-Team version 0</h1>
            <p>Lad os nøjes med at kigge på HTML koden.</p>
            <p>Analyser sammenhængen mellem HTML koden og brugerinterfacet i browseren?</p>
            <p>Prøv at ændre teksterne på knapperne til dansk.</p>
        </step>
        <step data-slide="version0" data-slide-mode="jsCode">
            <h1>The Dream-Team version 0</h1>
            <p>Nu kigger vi kun på JavaScript koden.</p>
            <p>Udvid funktionaliteten af programmet så knappen "Find player age" finder alderen på spilleren med nummer svarende til tallet i input feltet.</p>
            <p>Funktionen <code>findAge()</code> er allerede i koden, så den skal 'bare' have noget indhold.</p>
        </step>
        <step data-slide="version0" data-slide-mode="fullCode">
            <h1>The Dream-Team version 0</h1>
            <p>Her er igen hele koden til programmet</p>
            <p>Prøv nu at udvidde programmet med en knap "Find player value" og tilføj funktionalitet til knappen, så den finder værdien af spilleren givet ud fra nummeret i input feltet.</p>
            <p>Hint: Kig på de andre knapper og deres funktionalitet for at få en ide om hvordan det skal se ud.</p>
        </step>
        <step data-slide="version1">
            <h1>The Dream-Team version 1</h1>
            <p>Her er version 1 af Dream-Team programmet</p>
            <p>Hvilken ny funktionalitet er tilføjet programmet?</p>
            <p>Prøv at tilføje nogle nye spillere</p>
        </step>
        <step data-slide="version1" data-slide-mode="fullCode">
            <h1>The Dream-Team version 1</h1>
            <p>Her er koden til version1 af programmet.</p>
            <p>Analyser hvordan nye spillere gemmes med knappen "Add Player".</p>
        </step>
        <step data-slide="version1" data-slide-mode="fullCode">
            <h1>The Dream-Team version 1</h1>
            <p>Tilføj en boolsk (sand/falsk) attribut "Injured" til spillerne</p>
            <p>Hint: Der er flere steder i koden der skal rettes for at tilføje en ny attribut til en spiller: <code>class Player</code>, <code>addPlayer()</code> og <code>displayTeam()</code> er nogle af dem.</p>
        </step>
        <step data-slide="version2" data-slide-mode="fullCode">
            <h1>The Dream-Team version 2</h1>
            <p>Analysere koden mht. den nye funktion, der beregner gennemsnitsalderen, <code>findAverageAge()</code>.</p>
        </step>
        <step data-slide="version2" data-slide-mode="fullCode">
            <h1>The Dream-Team version 2</h1>
            <p>Tilføj en ny funktion til koden der beregner den samlede værdi af holdet. Lav en knap som kalder denne funktion.</p>
        </step>
        <step data-slide="version2" data-slide-mode="fullCode">
            <h1>The Dream-Team version 2</h1>
            <p>Prøv at rette i funktionen der beregner den samlede værdi, så den kun regner værdien af ikke skadede spillere.</p>
            <p>Hint: Du skal bruge en if-sætning:<pre><code>    if(myVariable === true) {
        //Gør noget hvis myVariable er sand
    } else {
        //Gør noget hvis myVariable er falsk
    }</code></pre>
            </p>
        </step>
        <step data-slide="version2" data-slide-mode="fullCode">
            <h1>The Dream-Team version 2</h1>
            <p>Find selv på en funktion at tilføje til programmet, evt. også med en ny spiller attribut.</p>
        </step>
        <step data-slide="version3">
            <h1>The Dream-Team version 3</h1>
            <p>Her er version 3 af Dream-Team programmet</p>
            <p>Afprøv programmet, hvor der nu signalleres hvis gennemsnitsalderen bliver for høj.</p>
            <p>Hint: Prøv at tilføje nogle meget gamle spillere.</p>
        </step>
        <step data-slide="version3" data-slide-mode="jsCode">
            <h1>The Dream-Team version 3</h1>
            <p>Forklar hvordan koden virker. Hvad er der sket med funktionen <code>findAverageAge()</code> og hvorfor?</p>
        </step>
        <step data-slide="version3" data-slide-mode="jsCode">
            <h1>The Dream-Team version 3</h1>
            <p>Udvid koden med en ny signallering: Giv signal, hvis antallet af skadede spillere er for højt når der tilføjes en ny spiller.</p>
        </step>
        <step data-slide="version3" data-slide-mode="fullCode">
            <h1>The Dream-Team version 3</h1>
            <p>Tilføj en funktion til programmet efter eget valg. Test den, forklar hvad den gør og hvordan den virker.</p>
        </step>
        <step data-slide="version4">
            <h1>The Dream-Team version 4</h1>
            <p>Indtil nu har vi mest pillet ved JavaScript koden, og tilføjet lidt HTML kode. Nu skal vi kigge på CSS koden.</p>
            <p>Forklar hvordan programmet nu er anderledes.</p>
        </step>
        <step data-slide="version4" data-slide-mode="htmlCssCode">
            <h1>The Dream-Team version 4</h1>
            <p>Prøv at ændre i CSS koden og se hvordan det påvirker programmet.</p>
        </step>
    </steps>
    <slides>
        <slide id="welcome">
            <img style="width: 80%;height: 80%;object-fit: contain;" src="../../img/logo_light.svg">
        </slide>
        <slide id="jsIntro">
            <iframe width="560" height="315"  style="width:100%; height: 100%; margin-top: 3.5em;" src="https://www.youtube.com/embed/gT0Lh1eYk78"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
        </slide>
        <slide id="version0">
            <code-fragment data-type="text/html" id="version0-html"><div class="dreamTeam">
    <h1>The Dream-Team (v0)</h1>
    <button class="displayTeam">Display team</button>
    <br/>
    <br/>
    Player number: <input type="number" class="playerNumber"/>
    <br/>
    <button class="findPlayerAge">Find player age</button>
    <br/>
    <br/>
    <button class="findNumPlayers">Find number of players</button>
</div>
            </code-fragment>
            <code-fragment data-type="text/css" id="version0-css">h1 {
    color: white;
    text-align: center;
}

div.dreamTeam {
    font-family: verdana;
    font-size: 20px;
}
            </code-fragment>
            <code-fragment data-type="text/javascript">
                await loadHelper("#version0", onSlideUnloaded);
            </code-fragment>
            <code-fragment data-type="text/javascript" id="version0-js" class="cotinker-noauto">
class Player {
    constructor(playerName, age, playerValue) {
        this.playerName = playerName;
        this.age = age;
        this.playerValue = playerValue;
    }
}

const player1 = new Player('Devaughn Akoon-Purcell', 24, 80);
const player2 = new Player('Tony Bishop', 28, 75);
const player3 = new Player('Jeffrey Crokett', 26, 71);

const basketTeam = [];
basketTeam.push(player1);
basketTeam.push(player2);
basketTeam.push(player3);

function displayTeam() {
    let teamString = "DreamTeam:\n";
    for (let i = 0; i < basketTeam.length; i++) {
        teamString += i + ", " + basketTeam[i].playerName + ", " + basketTeam[i].age + ", " + basketTeam[i].playerValue + "\n";
    }
    alert(teamString);
}
document.querySelector("button.displayTeam").addEventListener("click", () => {
    displayTeam();
});

function findNumberOfPlayers() {
    alert("The number of players on the team is " + basketTeam.length);
}
document.querySelector("button.findNumPlayers").addEventListener("click", () => {
    findNumberOfPlayers();
});

function findAge() {
}
document.querySelector("button.findPlayerAge").addEventListener("click", () => {
    findAge();
});

/**
 * Returns the player number typed into the text input .playerNumber
 */
function getPlayerNumber() {
    return parseInt(document.querySelector("input.playerNumber").value);
}
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="fullCode">
                openEditor(Fragment.find("#version0-html, #version0-css, #version0-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="htmlCode">
                openEditor(Fragment.find("#version0-html"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="jsCode">
                openEditor(Fragment.find("#version0-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
        </slide>
        <slide id="version1">
            <code-fragment data-type="text/javascript">
                await loadHelper("#version1", onSlideUnloaded);
            </code-fragment>
            <code-fragment data-type="text/html" id="version1-html"><div class="dreamTeam">
    <h1>The Dream-Team (v1)</h1>
    <button class="displayTeam">Display team</button>
    <br/>
    <br/>
    Player number: <input type="number" class="playerNumber"/>
    <br/>
    <button class="findPlayerAge">Find player age</button>
    <br />
    <button class="findPlayerValue">Find player value</button>
    <br/>
    <br/>
    <label>Name: <input type="text" class="playerName" /></label>
    <br />
    <label>Age: <input type="number" class="playerAge" /></label>
    <br />
    <label>Value: <input type="number" class="playerValue" /></label>
    <br/>
    <button class="addPlayer">Add Player</button>
    <br/>
    <br/>
    <button class="findNumPlayers">Find number of players</button>
</div>
            </code-fragment>
            <code-fragment data-type="text/css" id="version1-css">h1 {
    color: white;
    text-align: center;
}

div.dreamTeam {
    font-family: verdana;
    font-size: 20px;
}
            </code-fragment>
            <code-fragment data-type="text/javascript" id="version1-js" class="cotinker-noauto">
class Player {
    constructor(playerName, age, playerValue) {
        this.playerName = playerName;
        this.age = age;
        this.playerValue = playerValue;
    }
}

const player1 = new Player('Devaughn Akoon-Purcell', 24, 80);
const player2 = new Player('Tony Bishop', 28, 75);
const player3 = new Player('Jeffrey Crokett', 26, 71);

const basketTeam = [];
basketTeam.push(player1);
basketTeam.push(player2);
basketTeam.push(player3);

function displayTeam() {
    let teamString = "DreamTeam:\n";
    for (let i = 0; i < basketTeam.length; i++) {
        teamString += i + ", " + basketTeam[i].playerName + ", " + basketTeam[i].age + ", " + basketTeam[i].playerValue + "\n";
    }
    alert(teamString);
}
document.querySelector("button.displayTeam").addEventListener("click", () => {
    displayTeam();
});

function findNumberOfPlayers() {
    alert("The number of players on the team is " + basketTeam.length);
}
document.querySelector("button.findNumPlayers").addEventListener("click", () => {
    findNumberOfPlayers();
});

function findAge(playerNumber) {
    alert("The age of the selected player is: "+basketTeam[playerNumber].age);
}
document.querySelector("button.findPlayerAge").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findAge(playerNumber);
});

function findValue(playerNumber) {
    alert("The value of the selected player is: "+basketTeam[playerNumber].playerValue);
}
document.querySelector("button.findPlayerValue").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findValue(playerNumber);
});

function addPlayer(name, age, value) {
    basketTeam.push(new Player(name, age, value));
}
document.querySelector("button.addPlayer").addEventListener("click", ()=>{
    let name = document.querySelector("input.playerName").value;
    let age = parseInt(document.querySelector("input.playerAge").value);
    let value = parseInt(document.querySelector("input.playerValue").value);

    document.querySelector("input.playerName").value = "";
    document.querySelector("input.playerAge").value = "";
    document.querySelector("input.playerValue").value = "";

    addPlayer(name, age, value);
});

/**
 * Returns the player number typed into the text input .playerNumber
 */
function getPlayerNumber() {
    return parseInt(document.querySelector("input.playerNumber").value);
}
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="fullCode">
                openEditor(Fragment.find("#version1-html, #version1-css, #version1-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="htmlCode">
                openEditor(Fragment.find("#version1-html"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="jsCode">
                openEditor(Fragment.find("#version1-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
        </slide>
        <slide id="version2">
            <code-fragment data-type="text/javascript">
                await loadHelper("#version2", onSlideUnloaded);
            </code-fragment>
            <code-fragment data-type="text/html" id="version2-html"><div class="dreamTeam">
    <h1>The Dream-Team (v2)</h1>
    <button class="displayTeam">Display team</button>
    <br/>
    <br/>
    Player number: <input type="number" class="playerNumber"/>
    <br/>
    <button class="findPlayerAge">Find player age</button>
    <br />
    <button class="findPlayerValue">Find player value</button>
    <br/>
    <br/>
    <label>Name: <input type="text" class="playerName" /></label>
    <br />
    <label>Age: <input type="number" class="playerAge" /></label>
    <br />
    <label>Value: <input type="number" class="playerValue" /></label>
    <br />
    <label>Injured:
        <select class="playerInjured">
            <option value="false">No</option>
            <option value="true">Yes</option>
        </select>
    </label>
    <br/>
    <button class="addPlayer">Add Player</button>
    <br/>
    <br/>
    <button class="findNumPlayers">Find number of players</button>
    <br/>
    <button class="findAvgAge">Find average age</button>
</div>
            </code-fragment>
            <code-fragment data-type="text/css" id="version2-css">h1 {
    color: white;
    text-align: center;
}

div.dreamTeam {
    font-family: verdana;
    font-size: 20px;
}
            </code-fragment>
            <code-fragment data-type="text/javascript" id="version2-js" class="cotinker-noauto">
class Player {
    constructor(playerName, age, playerValue, injured) {
        this.playerName = playerName;
        this.age = age;
        this.playerValue = playerValue;
        this.injured = injured;
    }
}

const player1 = new Player('Devaughn Akoon-Purcell', 24, 80, false);
const player2 = new Player('Tony Bishop', 28, 75, false);
const player3 = new Player('Jeffrey Crokett', 26, 71, true);
const player4 = new Player('Michel Diouf', 29, 69, false);
const player5 = new Player('Darko Jukic', 27, 67, true);

const basketTeam = [];
basketTeam.push(player1);
basketTeam.push(player2);
basketTeam.push(player3);
basketTeam.push(player4);
basketTeam.push(player5);

function displayTeam() {
    let teamString = "DreamTeam:\n";
    for (let i = 0; i < basketTeam.length; i++) {
        teamString += i + ", " + basketTeam[i].playerName + ", " + basketTeam[i].age + ", " + basketTeam[i].playerValue + ", " +basketTeam[i].injured + "\n";
    }
    alert(teamString);
}
document.querySelector("button.displayTeam").addEventListener("click", () => {
    displayTeam();
});

function findNumberOfPlayers() {
    alert("The number of players on the team is " + basketTeam.length);
}
document.querySelector("button.findNumPlayers").addEventListener("click", () => {
    findNumberOfPlayers();
});

function findAge(playerNumber) {
    alert("The age of the selected player is: "+basketTeam[playerNumber].age);
}
document.querySelector("button.findPlayerAge").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findAge(playerNumber);
});

function findValue(playerNumber) {
    alert("The value of the selected player is: "+basketTeam[playerNumber].playerValue);
}
document.querySelector("button.findPlayerValue").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findValue(playerNumber);
});

function addPlayer(name, age, value, injured) {
    basketTeam.push(new Player(name, age, value, injured));
}
document.querySelector("button.addPlayer").addEventListener("click", ()=>{
    let name = document.querySelector("input.playerName").value;
    let age = parseInt(document.querySelector("input.playerAge").value);
    let value = parseInt(document.querySelector("input.playerValue").value);
    let injured = (document.querySelector("select.playerInjured").value).toLowerCase() === "true";

    document.querySelector("input.playerName").value = "";
    document.querySelector("input.playerAge").value = "";
    document.querySelector("input.playerValue").value = "";

    addPlayer(name, age, value, injured);
});

function findAverageAge() {
    let totalAge = 0;
    for(let i = 0; i < basketTeam.length; i++) {
        totalAge += basketTeam[i].age;
    }

    let teamSize = basketTeam.length;

    alert("The average age of the team is " + Math.round(totalAge / teamSize));
}
document.querySelector("button.findAvgAge").addEventListener("click", ()=>{
    findAverageAge();
});

/**
 * Returns the player number typed into the text input .playerNumber
 */
function getPlayerNumber() {
    return parseInt(document.querySelector("input.playerNumber").value);
}
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="fullCode">
                openEditor(Fragment.find("#version2-html, #version2-css, #version2-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
        </slide>
        <slide id="version3">
            <code-fragment data-type="text/javascript">
                await loadHelper("#version3", onSlideUnloaded);
            </code-fragment>
            <code-fragment data-type="text/html" id="version3-html"><div class="dreamTeam">
    <h1>The Dream-Team (v3)</h1>
    <button class="displayTeam">Display team</button>
    <br/>
    <br/>
    Player number: <input type="number" class="playerNumber"/>
    <br/>
    <button class="findPlayerAge">Find player age</button>
    <br />
    <button class="findPlayerValue">Find player value</button>
    <br/>
    <br/>
    <label>Name: <input type="text" class="playerName" /></label>
    <br />
    <label>Age: <input type="number" class="playerAge" /></label>
    <br />
    <label>Value: <input type="number" class="playerValue" /></label>
    <br />
    <label>Injured:
        <select class="playerInjured">
            <option value="false">No</option>
            <option value="true">Yes</option>
        </select>
    </label>
    <br/>
    <button class="addPlayer">Add Player</button>
    <br/>
    <br/>
    <button class="findNumPlayers">Find number of players</button>
    <br/>
    <button class="findAvgAge">Find average age</button>
    <br/>
    <button class="findTotalValue">Find total value</button>
    <br/>
    <button class="findTotalValueNonInjured">Find total value of non-injured</button>
    <br/>
    <button class="findInjuredPercentage">Find injured percentage</button>
</div>
            </code-fragment>
            <code-fragment data-type="text/css" id="version3-css">h1 {
    color: white;
    text-align: center;
}

div.dreamTeam {
    font-family: verdana;
    font-size: 20px;
}
            </code-fragment>
            <code-fragment data-type="text/javascript" id="version3-js" class="cotinker-noauto">
class Player {
    constructor(playerName, age, playerValue, injured) {
        this.playerName = playerName;
        this.age = age;
        this.playerValue = playerValue;
        this.injured = injured;
    }
}

const player1 = new Player('Devaughn Akoon-Purcell', 24, 80, false);
const player2 = new Player('Tony Bishop', 28, 75, false);
const player3 = new Player('Jeffrey Crokett', 26, 71, true);
const player4 = new Player('Michel Diouf', 29, 69, false);
const player5 = new Player('Darko Jukic', 27, 67, true);

const basketTeam = [];
basketTeam.push(player1);
basketTeam.push(player2);
basketTeam.push(player3);
basketTeam.push(player4);
basketTeam.push(player5);

function displayTeam() {
    let teamString = "DreamTeam:\n";
    for (let i = 0; i < basketTeam.length; i++) {
        teamString += i + ", " + basketTeam[i].playerName + ", " + basketTeam[i].age + ", " + basketTeam[i].playerValue + ", " + basketTeam[i].injured + "\n";
    }
    alert(teamString);
}
document.querySelector("button.displayTeam").addEventListener("click", () => {
    displayTeam();
});

function findNumberOfPlayers() {
    alert("The number of players on the team is " + basketTeam.length);
}
document.querySelector("button.findNumPlayers").addEventListener("click", () => {
    findNumberOfPlayers();
});

function findAge(playerNumber) {
    alert("The age of the selected player is: " + basketTeam[playerNumber].age);
}
document.querySelector("button.findPlayerAge").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findAge(playerNumber);
});

function findValue(playerNumber) {
    alert("The value of the selected player is: " + basketTeam[playerNumber].playerValue);
}
document.querySelector("button.findPlayerValue").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findValue(playerNumber);
});

function addPlayer(name, age, value, injured) {
    basketTeam.push(new Player(name, age, value, injured));
}
document.querySelector("button.addPlayer").addEventListener("click", () => {
    let name = document.querySelector("input.playerName").value;
    let age = parseInt(document.querySelector("input.playerAge").value);
    let value = parseInt(document.querySelector("input.playerValue").value);
    let injured = (document.querySelector("select.playerInjured").value).toLowerCase() === "true";

    document.querySelector("input.playerName").value = "";
    document.querySelector("input.playerAge").value = "";
    document.querySelector("input.playerValue").value = "";

    addPlayer(name, age, value, injured);
});

function findAverageAge() {
    let totalAge = 0;
    for (let i = 0; i < basketTeam.length; i++) {
        totalAge += basketTeam[i].age;
    }

    let teamSize = basketTeam.length;

    return Math.round(totalAge / teamSize);
}

function showAverageAge() {
    alert("The average age of the team is " + findAverageAge());
}
document.querySelector("button.findAvgAge").addEventListener("click", () => {
    showAverageAge();
});

function findTotalValue() {
    let totalValue = 0;
    for (let i = 0; i < basketTeam.length; i++) {
        totalValue += basketTeam[i].playerValue;
    }

    alert("The total value of the team is " + totalValue);
}
document.querySelector("button.findTotalValue").addEventListener("click", () => {
    findTotalValue();
});

function findTotalValueNonInjured() {
    let totalValueNonInjured = 0;
    for (let i = 0; i < basketTeam.length; i++) {
        if (!basketTeam[i].injured) {
            totalValueNonInjured += basketTeam[i].playerValue;
        }
    }

    alert("The total value of the non-injured players on the team is " + totalValueNonInjured);
}
document.querySelector("button.findTotalValueNonInjured").addEventListener("click", () => {
    findTotalValueNonInjured();
});

function findInjuredPercentage() {
    let numInjured = 0;
    const teamSize = basketTeam.length;

    for (let i = 0; i < basketTeam.length; i++) {
        if (basketTeam[i].injured) {
            numInjured++;
        }
    }

    let percentageInjured = Math.round((numInjured / teamSize) * 100);

    alert("The percentage of players that are injured: " + percentageInjured+"%");
}
document.querySelector("button.findInjuredPercentage").addEventListener("click", () => {
    findInjuredPercentage();
});

window.setInterval(function() {
    if (findAverageAge() > 30) {
        alert("Average age is too high!");
    }
}, 5000);

/**
 * Returns the player number typed into the text input .playerNumber
 */
function getPlayerNumber() {
    return parseInt(document.querySelector("input.playerNumber").value);
}
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="fullCode">
                openEditor(Fragment.find("#version3-html, #version3-css, #version3-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="jsCode">
                openEditor(Fragment.find("#version3-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
        </slide>
        <slide id="version4">
            <code-fragment data-type="text/javascript">
                await loadHelper("#version4", onSlideUnloaded);
            </code-fragment>
            <code-fragment data-type="text/html" id="version4-html"><div class="dreamTeam">
<div class="header">
    <h1>The Dream-Team (v4)</h1>
</div>
<div class="app">
    <div class="input">
        <label for="playerName">Player name</label><input type="text" id="playerName" class="playerName">
        <label for="playerAge">Player age</label><input type="number" id="playerAge" class="playerAge">
        <label for="playerValue">Player value</label><input type="number" id="playerValue" class="playerValue">
        <label for="injured">Injured</label>
        <select id="injured" class="playerInjured">
            <option value="false">No</option>
            <option value="true">Yes</option>
        </select>
        <button class="addPlayer">Add Player</button>
    </div>
    <div class="teamFunctions">
        <button class="displayTeam">Display team</button>
        <button class="findNumPlayers">Find number of players</button>
        <button class="findAvgAge">Find average age</button>
        <button class="findTotalValue">Find total value</button>
        <button class="findTotalValueNonInjured">Find total value of non-injured</button>
        <button class="findInjuredPercentage">Find injured percentage</button>
    </div>
    <div class="playerFunctions">
        <label for="playerNumber">Player number</label><input type="number" id="playerNumber" class="playerNumber">
        <button class="findPlayerAge">Find player age</button>
        <button class="findPlayerValue">Find player value</button>
    </div>
</div>
</div>
            </code-fragment>
            <code-fragment data-type="text/css" id="version4-css">h1 {
    color: white;
    text-align: center;
}

div.dreamTeam {
    font-family: sans-serif;
    font-size: 16px;
}

.app {
    display: grid;
    grid-template-columns: auto auto;
    grid-template-rows: auto auto;
    grid-gap: 0.8em;
}

.input {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-gap: 0.8em;
    background: #EBECED;
    color: #000000;
    padding: 0.5em;
}

.input button {
    border: 0;
}

.addPlayer {
    grid-column-start: 2;
}

.playerFunctions {
    grid-row: 2;
    display: grid;
    grid-template-columns: 1fr 1fr;
    background: #EBECED;
    color: #000000;
    grid-gap: 0.8em;
    padding: 0.5em;
}

.playerFunctions button {
    grid-column-start: 2;
    border: 0;
}

.teamFunctions {
    grid-row-start: 1;
    grid-row-end: 3;
    grid-column: 2;
    justify-self: center;
    align-self: center;

    display: flex;
    flex-direction: column;
}

.teamFunctions button {
    padding: 0.5em;
    margin: 0.25em;
    background: #5C5F66;
    color: #FCFCFC;
    border: 1px solid #000000;
    border-radius: 5px;
}
            </code-fragment>
            <code-fragment data-type="text/javascript" id="version4-js" class="cotinker-noauto">
class Player {
    constructor(playerName, age, playerValue, injured) {
        this.playerName = playerName;
        this.age = age;
        this.playerValue = playerValue;
        this.injured = injured;
    }
}

const player1 = new Player('Devaughn Akoon-Purcell', 24, 80, false);
const player2 = new Player('Tony Bishop', 28, 75, false);
const player3 = new Player('Jeffrey Crokett', 26, 71, true);
const player4 = new Player('Michel Diouf', 29, 69, false);
const player5 = new Player('Darko Jukic', 27, 67, true);

const basketTeam = [];
basketTeam.push(player1);
basketTeam.push(player2);
basketTeam.push(player3);
basketTeam.push(player4);
basketTeam.push(player5);

function displayTeam() {
    let teamString = "DreamTeam:\n";
    for (let i = 0; i < basketTeam.length; i++) {
        teamString += i + ", " + basketTeam[i].playerName + ", " + basketTeam[i].age + ", " + basketTeam[i].playerValue + ", " + basketTeam[i].injured + "\n";
    }
    alert(teamString);
}
document.querySelector("button.displayTeam").addEventListener("click", () => {
    displayTeam();
});

function findNumberOfPlayers() {
    alert("The number of players on the team is " + basketTeam.length);
}
document.querySelector("button.findNumPlayers").addEventListener("click", () => {
    findNumberOfPlayers();
});

function findAge(playerNumber) {
    alert("The age of the selected player is: " + basketTeam[playerNumber].age);
}
document.querySelector("button.findPlayerAge").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findAge(playerNumber);
});

function findValue(playerNumber) {
    alert("The value of the selected player is: " + basketTeam[playerNumber].playerValue);
}
document.querySelector("button.findPlayerValue").addEventListener("click", () => {
    let playerNumber = getPlayerNumber();
    findValue(playerNumber);
});

function addPlayer(name, age, value, injured) {
    basketTeam.push(new Player(name, age, value, injured));
}
document.querySelector("button.addPlayer").addEventListener("click", () => {
    let name = document.querySelector("input.playerName").value;
    let age = parseInt(document.querySelector("input.playerAge").value);
    let value = parseInt(document.querySelector("input.playerValue").value);
    let injured = (document.querySelector("select.playerInjured").value).toLowerCase() === "true";

    document.querySelector("input.playerName").value = "";
    document.querySelector("input.playerAge").value = "";
    document.querySelector("input.playerValue").value = "";

    addPlayer(name, age, value, injured);
});

function findAverageAge() {
    let totalAge = 0;
    for (let i = 0; i < basketTeam.length; i++) {
        totalAge += basketTeam[i].age;
    }

    let teamSize = basketTeam.length;

    return Math.round(totalAge / teamSize);
}

function showAverageAge() {
    alert("The average age of the team is " + findAverageAge());
}
document.querySelector("button.findAvgAge").addEventListener("click", () => {
    showAverageAge();
});

function findTotalValue() {
    let totalValue = 0;
    for (let i = 0; i < basketTeam.length; i++) {
        totalValue += basketTeam[i].playerValue;
    }

    alert("The total value of the team is " + totalValue);
}
document.querySelector("button.findTotalValue").addEventListener("click", () => {
    findTotalValue();
});

function findTotalValueNonInjured() {
    let totalValueNonInjured = 0;
    for (let i = 0; i < basketTeam.length; i++) {
        if (!basketTeam[i].injured) {
            totalValueNonInjured += basketTeam[i].playerValue;
        }
    }

    alert("The total value of the non-injured players on the team is " + totalValueNonInjured);
}
document.querySelector("button.findTotalValueNonInjured").addEventListener("click", () => {
    findTotalValueNonInjured();
});

function findInjuredPercentage() {
    let numInjured = 0;
    const teamSize = basketTeam.length;

    for (let i = 0; i < basketTeam.length; i++) {
        if (basketTeam[i].injured) {
            numInjured++;
        }
    }

    let percentageInjured = Math.round((numInjured / teamSize) * 100);

    alert("The percentage of players that are injured: " + percentageInjured+"%");
}
document.querySelector("button.findInjuredPercentage").addEventListener("click", () => {
    findInjuredPercentage();
});

window.setInterval(function() {
    if (findAverageAge() > 30) {
        alert("Average age is too high!");
    }
}, 5000);

/**
 * Returns the player number typed into the text input .playerNumber
 */
function getPlayerNumber() {
    return parseInt(document.querySelector("input.playerNumber").value);
}
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="fullCode">
                openEditor(Fragment.find("#version4-html, #version4-css, #version4-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="jsCode">
                openEditor(Fragment.find("#version4-js"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
            <code-fragment data-type="text/javascript" data-slide-mode="htmlCssCode">
                openEditor(Fragment.find("#version4-html, #version4-css"));

                onSlideModeUnloaded(()=>{
                    closeEditor();
                });
            </code-fragment>
        </slide>
    </slides>
</assignment>
<script>
    async function loadHelper(version, onSlideUnloaded) {
        console.log("Loading helper for "+version+"...");

        let reloadTimeoutId = null;

        let intervalsToClear = [];

        const cssFragment = Fragment.one(version+"-css");
        const jsFragment = Fragment.one(version+"-js");
        const htmlFragment = Fragment.one(version+"-html");

        function reloadFragments() {
            if(reloadTimeoutId != null) {
                clearTimeout(reloadTimeoutId);
                reloadTimeoutId = null;
            }

            reloadTimeoutId = setTimeout(async ()=>{
                await realReloadFragments();
                Notifications.instance.assignmentNotification("", "Code reloaded!");
            }, 500);
        }

        async function realReloadFragments() {
            intervalsToClear.forEach((id)=>{
                window.clearInterval(id);
            });
            intervalsToClear = [];

            cssFragment.clearAutoDom();
            htmlFragment.clearAutoDom();
            await cssFragment.insertAutoDom();
            await htmlFragment.insertAutoDom();

            let documentProxy = new Proxy(document, {
                get: (target, property)=>{
                    switch(property) {
                        case "querySelector": {
                            return (selector) =>{
                                return target.querySelector(version+" "+selector);
                            };

                            break;
                        }

                        case "querySelectorAll": {
                            return (selector) =>{
                                return target.querySelectorAll(version+" "+selector);
                            };

                            break;
                        }
                        default:
                            return target[property];
                    }
                }
            });

            let windowProxy = new Proxy(window, {
                get: (target, property) => {
                    switch(property) {
                        case "setInterval": {
                            return (callback, timeout) => {
                                let id = target.setInterval(callback, timeout);
                                intervalsToClear.push(id);
                                return id;
                            }
                        }

                        default:
                            return target[property];
                    }
                }
            });

            await jsFragment.require({
                context: {
                    document: documentProxy,
                    window: windowProxy
                }
            });
        }

        //Setup auto handling when fragments change
        cssFragment.registerOnFragmentChangedHandler(()=>{
            reloadFragments();
        });
        jsFragment.registerOnFragmentChangedHandler(()=>{
            reloadFragments();
        });
        htmlFragment.registerOnFragmentChangedHandler(()=>{
            reloadFragments();
        });

        await realReloadFragments();

        onSlideUnloaded(()=>{
            clearTimeout(reloadTimeoutId);
            reloadTimeoutId = null;
            cssFragment.clearAutoDom();
            htmlFragment.clearAutoDom();
        });
    }
</script>
